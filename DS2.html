<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PL/SQL - Studijn√≠ materi√°ly</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .header h1 {
            color: #2c3e50;
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            color: #7f8c8d;
            font-size: 1.1rem;
        }

        .content {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
        }

        .toc {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 40px;
            border-left: 5px solid #667eea;
        }

        .toc h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.5rem;
        }

        .toc ul {
            list-style: none;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 10px;
        }

        .toc li {
            background: white;
            padding: 12px 16px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }

        .toc li:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .toc a {
            color: #495057;
            text-decoration: none;
            font-weight: 500;
        }

        .toc a:hover {
            color: #667eea;
        }

        .section {
            margin-bottom: 50px;
            scroll-margin-top: 100px;
        }

        .section h2 {
            color: #2c3e50;
            font-size: 2rem;
            margin-bottom: 20px;
            padding: 15px 25px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.3);
        }

        .section h3 {
            color: #34495e;
            font-size: 1.4rem;
            margin: 25px 0 15px 0;
            padding-left: 15px;
            border-left: 4px solid #667eea;
        }

        .section h4 {
            color: #2c3e50;
            font-size: 1.2rem;
            margin: 20px 0 10px 0;
            font-weight: 600;
        }

        p {
            margin-bottom: 15px;
            text-align: justify;
        }

        ul, ol {
            margin: 15px 0 15px 30px;
        }

        li {
            margin-bottom: 8px;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }

        .comparison-table th {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        .comparison-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e9ecef;
        }

        .comparison-table tr:nth-child(even) {
            background-color: #f8f9fa;
        }

        .comparison-table tr:hover {
            background-color: #e3f2fd;
        }

        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
        }

        .highlight {
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #f39c12;
            margin: 20px 0;
        }

        .warning {
            background: linear-gradient(135deg, #f8d7da, #f5c6cb);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #dc3545;
            margin: 20px 0;
        }

        .info {
            background: linear-gradient(135deg, #d1ecf1, #b8daff);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #17a2b8;
            margin: 20px 0;
        }

        .questions {
            background: linear-gradient(135deg, #e2e3e5, #d6d8db);
            padding: 20px;
            border-radius: 12px;
            margin: 25px 0;
            border-left: 5px solid #6c757d;
        }

        .questions h4 {
            color: #495057;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .advantages, .disadvantages {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .advantages > div, .disadvantages > div {
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .advantages > div {
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
            border-left: 4px solid #28a745;
        }

        .disadvantages > div {
            background: linear-gradient(135deg, #f8d7da, #f5c6cb);
            border-left: 4px solid #dc3545;
        }

        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            opacity: 0;
            visibility: hidden;
        }

        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .back-to-top:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .content {
                padding: 20px;
            }
            
            .toc ul {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>PL/SQL a Datab√°zov√© syst√©my</h1>
            <p>Kompletn√≠ studijn√≠ materi√°ly - p≈ôelo≈æeno ze sloven≈°tiny</p>
        </div>

        <div class="content">
            <div class="toc">
                <h2>üìö Obsah</h2>
                <ul>
                    <li><a href="#uvod">01 - √övod, SQL (Oracle vs SQL Server)</a></li>
                    <li><a href="#plsql1">02 - PL/SQL 1 (blok, promƒõnn√©, v√Ωjimky)</a></li>
                    <li><a href="#plsql2">03 - PL/SQL 2 (procedury, triggery)</a></li>
                    <li><a href="#plsql3">04 - PL/SQL 3 (≈ô√≠dic√≠ konstrukce, kurzory)</a></li>
                    <li><a href="#plsql4">05 - PL/SQL 4 (dynamick√© SQL)</a></li>
                    <li><a href="#ordm">06 - Objektovƒõ-relaƒçn√≠ datov√Ω model</a></li>
                    <li><a href="#analyza">07 - Funkƒçn√≠ anal√Ωza</a></li>
                    <li><a href="#transakce">08 - Transakce a zotaven√≠</a></li>
                    <li><a href="#orm">09 - Objektovƒõ-relaƒçn√≠ mapov√°n√≠</a></li>
                    <li><a href="#dotazy">10 - Vykon√°v√°n√≠ dotaz≈Ø v DBS</a></li>
                    <li><a href="#rizeni1">11 - ≈ò√≠zen√≠ soubƒõhu I & II</a></li>
                </ul>
            </div>

            <section id="uvod" class="section">
                <h2>01 - √övod, SQL (Oracle vs SQL Server)</h2>
                
                <h3>Z√°kladn√≠ rozd√≠ly mezi Oracle a SQL Server</h3>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Operace</th>
                            <th>Oracle</th>
                            <th>SQL Server</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>D√©lka ≈ôetƒõzce</td>
                            <td><code>length</code></td>
                            <td><code>len</code></td>
                        </tr>
                        <tr>
                            <td>Pod≈ôetƒõzec</td>
                            <td><code>substr</code></td>
                            <td><code>substring</code></td>
                        </tr>
                        <tr>
                            <td>Konkatenace</td>
                            <td><code>||</code></td>
                            <td><code>+</code></td>
                        </tr>
                        <tr>
                            <td>Zbytek po celoƒç√≠seln√©m dƒõlen√≠</td>
                            <td><code>mod(12,3)</code></td>
                            <td><code>12 % 3</code></td>
                        </tr>
                    </tbody>
                </table>

                <h3>Pr√°ce s daty</h3>
                <p>V Oracle m√°me funkci <code>to_date</code> se dvƒõma parametry, kde prvn√≠ p≈ôedstavuje ≈ôetƒõzec s datem a druh√Ω obsahuje form√°tovac√≠ ≈ôetƒõzec, nap≈ô√≠klad:</p>
                <div class="code-block">to_date('2021-02-15', 'YYYY-MM-DD')</div>

                <p><strong>Z√≠sk√°n√≠ roku / mƒõs√≠ce / dne z data:</strong></p>
                <ul>
                    <li>V SQL Server: <code>year(payment_date)</code></li>
                    <li>V Oracle: <code>extract(year from payment_date)</code></li>
                </ul>

                <p><strong>Aktu√°ln√≠ datum a ƒças (nejpou≈æ√≠vanƒõj≈°√≠ je SYSDATE):</strong></p>
                <ul>
                    <li><code>sysdate, systemtimestamp</code> - datum a ƒças na serveru</li>
                    <li><code>current_date, current_timestamp</code> - datum a ƒças na klientovi</li>
                </ul>

                <h3>Automatick√© generov√°n√≠ prim√°rn√≠ho kl√≠ƒçe</h3>
                <div class="info">
                    <p><strong>generated always as identity:</strong> P≈ôi vkl√°d√°n√≠ do tabulky s takto definovan√Ωm id nebudeme moci vlo≈æit vlastn√≠ kl√≠ƒç pomoc√≠ INSERT INTO...VALUES</p>
                </div>
                <div class="info">
                    <p><strong>generated by default as identity:</strong> P≈ôi vkl√°d√°n√≠ u≈æ m≈Ø≈æeme vlo≈æit i vlastn√≠ kl√≠ƒç, ale po prvn√≠m vlo≈æen√≠ vlastn√≠ho u≈æ mus√≠me vkl√°dat jen vlastn√≠</p>
                    <p><strong>ALTER TABLE ... MODIFY</strong> Umo≈æ≈àuje spu≈°tƒõn√≠ auto incrementu zp√°tky</p>
                </div>
            </section>

            <section id="plsql1" class="section">
                <h2>02 - PL/SQL 1 (blok, promƒõnn√©, v√Ωjimky)</h2>
                
                <p>Jedn√° se o procedur√°ln√≠ roz≈°√≠≈ôen√≠ SQL (syntax zalo≈æen√° na jazyku ADA)</p>

                <div class="advantages">
                    <div>
                        <h4>‚úÖ V√Ωhody psan√≠ k√≥du v PL/SQL</h4>
                        <ul>
                            <li>Kombinace procedur√°ln√≠ logiky a SQL</li>
                            <li>M√©nƒõ p≈ôen√°≈°en√Ωch dat ‚Üí vy≈°≈°√≠ propustnost</li>
                            <li>Sd√≠len√≠ k√≥du mezi aplikacemi</li>
                            <li>Nez√°vislost na platformƒõ</li>
                        </ul>
                    </div>
                </div>

                <div class="disadvantages">
                    <div>
                        <h4>‚ùå Nev√Ωhody</h4>
                        <ul>
                            <li>Nep≈ôenositelnost aplikace mezi r≈Øzn√Ωmi DBS</li>
                            <li>Mo≈ænost vyhnout se komplikovanƒõj≈°√≠ch SQL p≈ô√≠kazu ‚Üí dopad na efektivitu</li>
                        </ul>
                    </div>
                </div>

                <h3>Z√°kladn√≠ struktura PL/SQL bloku</h3>
                <div class="code-block"><pre>
DECLARE  -- nepovinn√° deklarace lok√°ln√≠ch promƒõnn√Ωch
BEGIN    -- povinn√© otev≈ôen√≠ bloku p≈ô√≠kazu
EXCEPTION -- nepovinn√© zachyt√°v√°n√≠ v√Ωjimek
END      -- povinn√© ukonƒçen√≠ bloku
                </pre></div>

                <h3>Promƒõnn√©</h3>
                <ul>
                    <li>Obvykle d√°v√°me prefix <code>v_</code></li>
                    <li>Hodnotu p≈ôi≈ôazujeme pomoc√≠ <code>v_age := 20</code></li>
                    <li><code>SELECT vek INTO v_vek FROM...WHERE...</code></li>
                </ul>

                <div class="warning">
                    <p><strong>POZOR:</strong> SELECT INTO mus√≠ vracet jen 1 z√°znam, jinak v√Ωjimka TOO_MANY_ROWS nebo NO_DATA_FOUND</p>
                </div>

                <h4>Oper√°tor %TYPE</h4>
                <p>Kop√≠ruje datov√Ω typ atribut≈Ø tabulky (abychom po zmƒõnƒõ typu atributu nemuseli mƒõnit k√≥d)</p>
                <div class="code-block">v_login Student.login%TYPE</div>

                <h4>Oper√°tor %ROWTYPE</h4>
                <p>Strukturovan√Ω datov√Ω typ - jeho instance reprezentuje 1 z√°znam z tabulky</p>
                <div class="code-block">v_student Student%ROWTYPE</div>

                <h3>V√Ωjimky</h3>
                <div class="code-block"><pre>
BEGIN
...
EXCEPTION
    WHEN nazev_vyjimky THEN
        spracovani_vyjimky
END;
                </pre></div>
                
                <div class="info">
                    <p><strong>EXCEPTION</strong>  DBS hled√° typ v√Ωjimky a p≈ôi √∫spƒõ≈°n√©m zpracov√°n√≠ se chyba d√°le ne≈°i≈ô√≠</p>
                    <p><strong>WHEN OTHERS THEN</strong> Skoƒç√≠ se do t√©to sekce a v√Ωjimka se zpracuje</p>
                </div>

                <p><strong>P≈ô√≠klady v√Ωjimek:</strong></p>
                <ul>
                    <li><code>DUP_VAL_ON_INDEX</code> - pokus o vlo≈æen√≠ duplicitn√≠ hodnoty</li>
                    <li><code>NO_DATA_FOUND</code> - SELECT INTO nevr√°til data</li>
                    <li><code>TOO_MANY_ROWS</code> - SELECT INTO vr√°til v√≠ce ne≈æ jeden ≈ô√°dek</li>
                </ul>
            </section>

            <section id="plsql2" class="section">
                <h2>03 - PL/SQL 2 (procedury, triggery)</h2>

                <h3>Anonymn√≠ vs Pojmenovan√© procedury</h3>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Typ</th>
                            <th>Vlastnosti</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Anonymn√≠</td>
                            <td>Nemohou b√Ωt volan√© z jin√© procedury, nejsou p≈ôedkompilov√°ny (pomalej≈°√≠)</td>
                        </tr>
                        <tr>
                            <td>Pojmenovan√©</td>
                            <td>Mohou b√Ωt volan√© z jin√© procedury, jsou p≈ôedkompilov√°ny (rychlej≈°√≠)</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Vytvo≈ôen√≠ procedury</h3>
                <div class="code-block"><pre>
CREATE OR REPLACE PROCEDURE jmeno_procedury (age IN int, ...)
AS ... definice lok√°ln√≠ch promƒõnn√Ωch;
BEGIN ... tƒõlo procedury;
END jmeno_procedury;
                </pre></div>

                <div class="info">
                    <p><strong>Parametry mohou b√Ωt v m√≥dech:</strong> IN, OUT, IN OUT</p>
                    <p><strong>EXECUTE jmeno_procedury(20);</strong></p>
                </div>

                <div class="warning">
                    <p><strong>POZOR:</strong> Kompilace ‚â† spu≈°tƒõn√≠ procedury! P≈ôi √∫spe≈°n√© kompilaci je ulo≈æena do DB</p>
                </div>

                <h3>Funkce</h3>
                <p>Podobn√© procedur√°m, ale specifikuj√≠ n√°vratov√Ω typ a mus√≠ vracet hodnotu</p>
                <div class="code-block">
                    <pre>
CREATE OR REPLACE FUNCTION jmeno_funkce (age IN int, ...)
RETURN datovy_typ_navratove_hodnoty
AS ... definice lok√°ln√≠ch promƒõnn√Ωch;
BEGIN ... tƒõlo funkce;
END jmeno_funkce;
                </pre></div>
                
                <div class="info">
                    <p><strong>EXECUTE DBMS_OUTPUT.PUT_LINE(jmeno_funkce(20));</strong></p>
                    <p>Vol√°n√≠ v anonymn√≠m blok≈Ø<p>
                    <p><strong>SELECT jmeno_funkce(20) FROM DUAL;</strong></p>
                </div>

                <h3>Triggery</h3>
                <p>PL/SQL blok spu≈°tƒõn√Ω automaticky p≈ôi p≈ô√≠kazech JMD (INSERT, UPDATE, DELETE)</p>
                <div class="code-block"><pre>
CREATE OR REPLACE TRIGGER jmeno_triggeru
{BEFORE | AFTER | INSTEAD OF}
{INSERT [OR] | UPDATE [OR] | DELETE}
[OF jmeno_atributu]
ON jmeno_tabulky
[REFERENCING OLD AS stara_hodnota NEW AS nova_hodnota]
[FOR EACH ROW [WHEN (podminka)]]
BEGIN ... tƒõlo triggeru
END;
                </pre></div>

                <div class="highlight">
                    <p><strong>FOR EACH ROW:</strong> Trigger se spust√≠ pro ka≈æd√Ω z√°znam, kter√Ω je SQL p≈ô√≠kazem aktualizov√°n</p>
                </div>

                <h3>Mutuj√≠c√≠ tabulky</h3>
                <div class="warning">
                    <p>Vznik√°, kdy≈æ se pokus√≠me v triggeru ƒç√≠st/modifikovat stejnou tabulku, pro kterou je trigger definov√°n</p>
                </div>
            </section>

            <section id="plsql3" class="section">
                <h2>04 - PL/SQL 3 (≈ô√≠dic√≠ konstrukce, kurzory)</h2>

                <h3>≈ò√≠dic√≠ konstrukce</h3>
                <div class="code-block">
                    <pre>
-- Podm√≠nky
IF podminka1 THEN prikazy 
ELSIF podminka2 THEN prikazy 
ELSE prikazy 
END IF

-- Case
CASE WHEN INSERTING | UPDATING | DELETING THEN prikazy END CASE
                </pre></div>

                <div class="info">
                    <p><strong>Tip:</strong> Pro porovn√°n√≠ ‚â† v PL/SQL pou≈æ√≠v√°me <code>&lt;&gt;</code></p>
                </div>

                <h3>Cykly</h3>
                <div class="code-block"><pre>
-- Z√°kladn√≠ cyklus
LOOP
    prikazy
    [EXIT; | EXIT WHEN podminka;]
END LOOP;

-- While cyklus
WHILE podminka LOOP
    prikazy
END LOOP;

-- For cyklus
FOR jmeno_promenne IN [REVERSE] val1 .. val2
LOOP
    prikazy
END LOOP;
                </pre></div>

                <h3>Kurzory</h3>
                <p>Pomocn√© promƒõnn√© pro proch√°zen√≠ v√Ωsledk≈Ø SQL dotaz≈Ø</p>

                <h4>Typy kursor≈Ø</h4>
                <ul>
                    <li><strong>Implicitn√≠:</strong> Vytv√°≈ô√≠ se automaticky po vykon√°n√≠ (INSERT, DELETE, UPDATE)</li>
                    <li><strong>Explicitn√≠:</strong> Deklarujeme ruƒçnƒõ (ƒçasto s SELECT)</li>
                </ul>

                <h4>Operace s kurzory</h4>
                <ul>
                    <li><code>OPEN nazev_kurzoru</code> - otev≈ôe kurzor</li>
                    <li><code>FETCH nazev_kurzoru INTO promenna</code> - naƒçte z√°znam</li>
                    <li><code>CLOSE nazev_kurzoru</code> - uzav≈ôe kurzor</li>
                </ul>

                <h4>Nejpou≈æ√≠vanƒõj≈°√≠ verze - FOR kurzor</h4>
                <div class="code-block"><pre>
DECLARE
    v_surname Student.surname%TYPE;
BEGIN
    FOR jeden_zaznam IN (SELECT surname FROM Student)
    LOOP
        v_surname := jeden_zaznam.surname;
    END LOOP;
END;
                </pre></div>

                <div class="highlight">
                    <p><strong>Doporuƒçen√≠:</strong> Je lep≈°√≠ vyu≈æ√≠t jednu operaci m√≠sto kurzoru (minimalizujeme poƒçet operac√≠ ‚Üí rychlej≈°√≠ vykon√°n√≠)</p>
                </div>
            </section>

            <section id="plsql4" class="section">
                <h2>05 - PL/SQL 4 (dynamick√© SQL)</h2>

                <h3>Kdy pou≈æ√≠t dynamick√© SQL</h3>

                <div class="info">
                    <p><strong>Pravidlo:</strong> Dynamick√© pou≈æ√≠v√°me jen v p≈ô√≠padƒõ, kdy nen√≠ mo≈æn√© pou≈æ√≠t statick√©!</p>
                </div>

                <p>Nƒõkter√© p≈ô√≠kazy nem≈Ø≈æeme volat p≈ô√≠mo v PL/SQL bloku:</p>
                <ul>
                    <li>V≈°echny p≈ô√≠kazy JDD</li>
                    <li>P≈ô√≠kazy, kter√© v dobƒõ p≈ôekladu nejsou zn√°my</li>
                </ul>

                <div class="warning">
                    <p><strong>Nev√Ωhody dynamick√©ho SQL:</strong></p>
                    <ul>
                        <li>Ned√° se ovƒõ≈ôit syntaktick√° spr√°vnost p≈ôi kompilaci</li>
                        <li>Vystavujeme se nebezpeƒçnosti SQL injection</li>
                    </ul>
                </div>

                <h3>Spu≈°tƒõn√≠ dynamick√©ho SQL</h3>
                <div class="code-block">EXECUTE IMMEDIATE v_sql_command;</div>

                <h3>V√°zan√© promƒõnn√©</h3>
                <p>Zabra≈àuj√≠ SQL INJECTION a zlep≈°uj√≠ v√Ωkon</p>
                <div class="code-block"><pre>
v_sql := 'INSERT INTO reward (id, student_login, ' || p_rewardType || '_reward) VALUES (:1, :2, :3)';
EXECUTE IMMEDIATE v_sql USING v_id, p_login, p_reward;
-- hodnoty :1, :2 a :3 se nahrad√≠ promƒõnn√Ωmi v po≈ôad√≠ za USING
                </pre></div>

                <h3>SQL Injection</h3>
                <div class="warning">
                    <p><strong>Bezpeƒçnostn√≠ √∫tok</strong> - text od u≈æivatele pou≈æit√Ω k manipulaci datab√°zov√Ωch operac√≠</p>
                </div>

                <p><strong>P≈ô√≠klad √∫toku:</strong></p>
                <div class="code-block"><pre>
-- √ötoƒçn√≠k zad√°: 'X' or 1 = 1 --
-- V√Ωsledek:
SELECT fname, lname, salary
FROM employees
WHERE fname='X' or 1=1 --'
-- √∫toƒçn√≠k m√° p≈ô√≠stup k dat≈Øm
                </pre></div>

                <h4>Jak se br√°nit:</h4>
                <ul>
                    <li>Pou≈æ√≠vat jen statick√© dotazy</li>
                    <li>V dynamick√Ωch dotazech pou≈æ√≠vat v√°zan√© promƒõnn√©</li>
                    <li>Kontrolovat nebezpeƒçn√© znaky</li>
                </ul>

                <div class="code-block"><pre>
-- ‚ùå NEPOU≈Ω√çVAT
'SELECT * FROM people WHERE fname = ''' || p_fname ''' ';

-- ‚úÖ POU≈Ω√çVAT
'SELECT * FROM people WHERE fname = ':1 ';
                </pre></div>
            </section>

            <section id="ordm" class="section">
                <h2>06 - Objektovƒõ-relaƒçn√≠ datov√Ω model</h2>

                <p>ORDM = objektovƒõ-relaƒçn√≠ datov√Ω model (v podstatƒõ rysy OOP v DBS)</p>

                <h3>Pou≈æ√≠van√© vs Nepou≈æ√≠van√© rysy</h3>
                <div class="advantages">
                    <div>
                        <h4>‚úÖ Pou≈æ√≠van√© rysy ORDM</h4>
                        <ul>
                            <li>Objektov√© typy jako datov√© typy atribut≈Ø</li>
                            <li>Kolekce</li>
                            <li>K√≥d ulo≈æen√Ω a spou≈°tƒõn√Ω v DBS</li>
                        </ul>
                    </div>
                </div>

                <div class="disadvantages">
                    <div>
                        <h4>‚ùå Nepou≈æ√≠van√© rysy ORDM</h4>
                        <ul>
                            <li>Objektov√© tabulky</li>
                            <li>Objekty, metody</li>
                            <li>Reference na objekty</li>
                        </ul>
                    </div>
                </div>

                <h3>Kolekce</h3>
                <p>Pou≈æ√≠v√°me v procedur√°ch m√≠sto perzistentn√≠ch tabulek (maj√≠ men≈°√≠ re≈æii)</p>
                <ul>
                    <li><strong>Pole (varray):</strong> pole pevn√© d√©lky, p≈ô√≠m√Ω p≈ô√≠stup k prvk≈Øm</li>
                    <li><strong>Pamƒõ≈•ov√° bu≈àka (nested table):</strong> pole promƒõnn√© d√©lky</li>
                    <li><strong>Asociativn√≠ pole:</strong> obdoba hash table</li>
                </ul>

                <h3>Hromadn√© SQL operace</h3>
                <p>Efektivnƒõj≈°√≠ ne≈æ vkl√°d√°n√≠ po jednom z√°znamu</p>
                <ul>
                    <li><code>BULK COLLECT</code> - naƒçte v√≠ce z√°znam≈Ø do pamƒõ≈•ov√©ho pole</li>
                    <li><code>FORALL</code> - zap√≠≈°e z pamƒõ≈•ov√©ho pole do DB</li>
                </ul>

                <h3>Pomocn√© tabulky</h3>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Datab√°ze</th>
                            <th>Typ</th>
                            <th>Popis</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td rowspan="2">Oracle</td>
                            <td>Local temporary</td>
                            <td>CREATE GLOBAL TEMPORARY TABLE...</td>
                        </tr>
                        <tr>
                            <td>Global temporary</td>
                            <td>CREATE PRIVATE TEMPORARY TABLE...</td>
                        </tr>
                        <tr>
                            <td rowspan="4">SQL Server</td>
                            <td>Local temporary</td>
                            <td>#table_name</td>
                        </tr>
                        <tr>
                            <td>Global temporary</td>
                            <td>##table_name</td>
                        </tr>
                        <tr>
                            <td>Table variables</td>
                            <td>@table_name</td>
                        </tr>
                        <tr>
                            <td>Persistent temporary</td>
                            <td>TempDB table_name</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <section id="analyza" class="section">
                <h2>07 - Funkƒçn√≠ anal√Ωza</h2>

                <h3>Typy funkc√≠</h3>
                <ul>
                    <li><strong>CRUD operace</strong> nad jednou tabulkou</li>
                    <li><strong>Komplikovan√Ω dotaz</strong></li>
                    <li><strong>Transakce</strong></li>
                </ul>

                <p>Funkƒçn√≠ anal√Ωza je souhrn funkc√≠ datov√© vrstvy. CRUD nepopisujeme (jen uvedeme v seznamu), komplikovan√© dotazy a transakce popisujeme minispecifikac√≠.</p>

                <div class="warning">
                    <p><strong>Analysis-paralysis:</strong> Kdy≈æ je anal√Ωza del≈°√≠ ne≈æ samotn√° implementace funkce</p>
                </div>

                <h3>P≈ô√≠klad minispecifikace transakce</h3>
                <div class="highlight">
                    <h4>Transakce AddMatch</h4>
                    <p><strong>Vstupy:</strong></p>
                    <ul>
                        <li>p_tournament - ID turnaje</li>
                        <li>p_map - ID mapy</li>
                        <li>p_teamA, p_teamB - ID t√Ωm≈Ø</li>
                        <li>p_winner - ID v√≠tƒõzn√©ho t√Ωmu</li>
                        <li>p_date - datum z√°pasu (m≈Ø≈æe b√Ωt NULL)</li>
                    </ul>
                    <p><strong>V√Ωstup:</strong> TRUE p≈ôi √∫spƒõchu, FALSE p≈ôi chybƒõ + ROLLBACK</p>
                </div>
            </section>

            <section id="transakce" class="section">
                <h2>08 - Transakce a zotaven√≠</h2>

                <h3>Co je transakce</h3>
                <p>Datab√°zov√° operace obsahuj√≠c√≠ v√≠ce element√°rn√≠ch operac√≠, kter√° je <strong>nedƒõliteln√° a atomick√°</strong></p>

                <div class="code-block"><pre>
BEGIN TRANSACTION
-- datab√°zov√© operace
COMMIT    -- nebo ROLLBACK
                </pre></div>

                <h3>ACID vlastnosti</h3>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Vlastnost</th>
                            <th>Popis</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Atomicity</strong></td>
                            <td>Jsou vykon√°ny v≈°echny operace nebo ani jedna</td>
                        </tr>
                        <tr>
                            <td><strong>Correctness</strong></td>
                            <td>P≈ôev√°d√≠ korektn√≠ stav DB do jin√©ho korektn√≠ho stavu</td>
                        </tr>
                        <tr>
                            <td><strong>Isolation</strong></td>
                            <td>Transakce jsou navz√°jem izolovan√©</td>
                        </tr>
                        <tr>
                            <td><strong>Durability</strong></td>
                            <td>Zmƒõny jsou trval√© i po glob√°ln√≠ chybƒõ</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Log soubor</h3>
                <p>Pro podporu transakc√≠ pou≈æ√≠v√° DBS log soubor na disku se z√°znamy o v≈°ech operac√≠ch</p>

                <div class="info">
                    <p><strong>Pravidlo dop≈ôedn√©ho z√°pisu:</strong> V≈°echny aktualizace mus√≠ b√Ωt zaps√°ny do logu p≈ôed z√°pisem do DB</p>
                </div>

                <h3>V√Ωhody logu</h3>
                <ul>
                    <li><strong>Z√°pis do logu:</strong> sekvenƒçn√≠, stovky MB/s</li>
                    <li><strong>Z√°pis do DB:</strong> n√°hodn√© diskov√© operace, des√≠tky MB/s</li>
                </ul>

                <h3>Operace p≈ôi zotaven√≠</h3>
                <ul>
                    <li><strong>UNDO:</strong> Zru≈°en√≠ transakce p≈ôeru≈°en√© chybou</li>
                    <li><strong>REDO:</strong> P≈ôepracov√°n√≠ √∫spe≈°nƒõ dokonƒçen√© transakce</li>
                </ul>

                <h3>Techniky zotaven√≠</h3>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Technika</th>
                            <th>Charakteristika</th>
                            <th>Operace p≈ôi zotaven√≠</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Odlo≈æen√° aktualizace</td>
                            <td>Z√°pis a≈æ po COMMIT</td>
                            <td>NO-UNDO / REDO</td>
                        </tr>
                        <tr>
                            <td>Okam≈æit√° aktualizace</td>
                            <td>Z√°pis ihned</td>
                            <td>UNDO / NO-REDO</td>
                        </tr>
                        <tr>
                            <td>Kombinovan√°</td>
                            <td>Oba p≈ô√≠stupy</td>
                            <td>UNDO / REDO</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Checkpoint (kontroln√≠ bod)</h3>
                <p>Periodick√© body pro optimalizaci zotaven√≠ - syst√©m v√≠, kter√© operace mus√≠ vykonat</p>

                <h3>Algoritmus zotaven√≠</h3>
                <ol>
                    <li>Vytvo≈ôen√≠ seznam≈Ø UNDO a REDO</li>
                    <li>Proch√°zen√≠ logu od posledn√≠ho checkpointu</li>
                    <li>UNDO operace pro nepotvrzen√© transakce</li>
                    <li>REDO operace pro potvrzen√© transakce</li>
                </ol>

                <h3>Truncate vs Delete</h3>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Operace</th>
                            <th>Rychlost</th>
                            <th>Zotavitelnost</th>
                            <th>Log</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>TRUNCATE</td>
                            <td>Rychl√°</td>
                            <td>Definitivn√≠</td>
                            <td>Nezapisuje</td>
                        </tr>
                        <tr>
                            <td>DELETE</td>
                            <td>Pomal√°</td>
                            <td>Obnoviteln√°</td>
                            <td>Zapisuje</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Savepoints</h3>
                <p>Z√°chrann√© body umo≈æ≈àuj√≠ rozdƒõlit transakci na men≈°√≠ ƒç√°sti bez ztr√°ty atomicity</p>
            </section>

            <section id="orm" class="section">
                <h2>09 - Objektovƒõ-relaƒçn√≠ mapov√°n√≠</h2>

                <p>V√≠ce zp≈Øsob≈Ø implementace datov√© vrstvy - ORM je jedn√≠m z nich</p>

                <h3>Vlastnosti ORM</h3>
                <div class="advantages">
                    <div>
                        <h4>‚úÖ V√Ωhody</h4>
                        <ul>
                            <li>Pr√°ce s objektov√Ωm modelem</li>
                            <li>Rychlej≈°√≠ vytv√°≈ôen√≠ aplikac√≠</li>
                            <li>P≈ôenositelnost mezi DBS</li>
                        </ul>
                    </div>
                </div>

                <div class="disadvantages">
                    <div>
                        <h4>‚ùå Nev√Ωhody</h4>
                        <ul>
                            <li>Men≈°√≠ v√Ωkon aplikace</li>
                            <li>ƒå√°steƒçn√° kontrola nad SQL</li>
                        </ul>
                    </div>
                </div>

                <h3>Techniky implementace</h3>
                <ul>
                    <li><strong>ORM r√°mce:</strong> Hibernate, JPA</li>
                    <li><strong>ORM mikror√°mce</strong></li>
                    <li><strong>Vlastn√≠ implementace:</strong> nejlep≈°√≠ propustnost</li>
                </ul>

                <h3>Jednoduch√© mapov√°n√≠</h3>
                <ul>
                    <li><strong>1 t≈ô√≠da = 1 entitn√≠ typ</strong> (DTO - Data Transfer Object)</li>
                    <li><strong>1 t≈ô√≠da = implementace funkc√≠ nad tabulkou</strong> (DAO - Data Access Object)</li>
                    <li><strong>Pomocn√© t≈ô√≠dy:</strong> Database, Connection</li>
                </ul>

                <h3>P≈ô√≠klad DTO v Javƒõ</h3>
                <div class="code-block"><pre>
public class Map {
    public int map_id;
    public String name;
}
                </pre></div>

                <h3>Vazby v ORM</h3>
                <h4>1:1 vztah</h4>
                <div class="code-block"><pre>
public class User {
    private int user_id;
    private String fname;
    private String lname;
    private int account_id;
    // private Account account - mo≈æn√©, ale negativn√≠ dopad na v√Ωkon
}
                </pre></div>

                <h4>1:N vztah</h4>
                <div class="code-block"><pre>
public class Map {
    private int map_id;
    private String name;
    private List&lt;Match&gt; matches = new ArrayList&lt;Match&gt;();
}
                </pre></div>
            </section>

            <section id="dotazy" class="section">
                <h2>10 - Vykon√°v√°n√≠ dotaz≈Ø v DBS</h2>

                <h3>Heap table (halda)</h3>
                <p>Z√°kladn√≠ √∫lo≈æi≈°tƒõ pro tabulku - organizov√°no jako str√°nkov√© pole</p>

                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Operace</th>
                            <th>Slo≈æitost</th>
                            <th>Pozn√°mka</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Vyhled√°v√°n√≠</td>
                            <td>O(n)</td>
                            <td>Sekvenƒçn√≠ pr≈Øchod v≈°emi str√°nkami</td>
                        </tr>
                        <tr>
                            <td>Maz√°n√≠</td>
                            <td>O(n)</td>
                            <td>Oznaƒçen√≠ jako smaz√°no, ne fyzick√© vymaz√°n√≠</td>
                        </tr>
                        <tr>
                            <td>Vkl√°d√°n√≠ na konec</td>
                            <td>O(1)</td>
                            <td>Nejrychlej≈°√≠ varianta</td>
                        </tr>
                        <tr>
                            <td>Kontrola jedineƒçnosti</td>
                            <td>O(n)</td>
                            <td>Bez indexu</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Pl√°n vykon√°v√°n√≠ dotazu</h3>
                <ol>
                    <li><strong>Optimaliz√°tor</strong> vygeneruje v√≠ce pl√°n≈Ø</li>
                    <li><strong>V√Ωbƒõr</strong> nejlevnƒõj≈°√≠ho podle IO/CPU cost</li>
                    <li><strong>Reprezentace</strong> stromovou strukturou</li>
                </ol>

                <h3>B+ strom index</h3>
                <p>Manu√°lnƒõ vytv√°≈ôen√Ω pro dotazy s vysokou selektivitou</p>

                <div class="code-block">CREATE INDEX idx_name ON table_name (column_list)</div>

                <h4>Vlastnosti B+ stromu</h4>
                <ul>
                    <li>Vyv√°≈æen√Ω, str√°nkovateln√Ω</li>
                    <li>Kl√≠ƒçe jen v listov√Ωch uzlech</li>
                    <li>Slo≈æitost operac√≠: O(log<sub>c</sub> n)</li>
                    <li>Vyu≈æit√≠ uzl≈Ø ‚â• 50%</li>
                </ul>

                <h3>Typy dotaz≈Ø v B-stromu</h3>
                <ul>
                    <li><strong>Bodov√Ω dotaz:</strong> IO cost = v√Ω≈°ka stromu + 2</li>
                    <li><strong>Rozsahov√Ω dotaz:</strong> Skenov√°n√≠ listov√Ωch uzl≈Ø</li>
                </ul>

                <h3>Slo≈æen√Ω index</h3>
                <div class="code-block">CREATE INDEX idx_user ON users (login, lname, department);</div>

                <p>Kl√≠ƒçe se≈ôazeny lexikograficky podle po≈ôad√≠ v definici</p>

                <h4>Kdy index vyu≈æije:</h4>
                <ul>
                    <li>‚úÖ Dotaz obsahuje prvn√≠ atribut (login)</li>
                    <li>‚úÖ Dotaz pou≈æ√≠v√° v≈°echny atributy</li>
                </ul>

                <h4>Kdy index nevyu≈æije:</h4>
                <ul>
                    <li>‚ùå Chyb√≠ prvn√≠ atribut v WHERE klauzuli</li>
                    <li>‚ùå N√≠zk√° selektivita dotazu</li>
                </ul>

                <h3>Operace v pl√°nu vykon√°v√°n√≠</h3>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Oracle</th>
                            <th>SQL Server</th>
                            <th>Popis</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>TABLE ACCESS (FULL)</td>
                            <td>TABLE SCAN</td>
                            <td>Sekvenƒçn√≠ pr≈Øchod haldou</td>
                        </tr>
                        <tr>
                            <td>TABLE ACCESS (BY INDEX ROWID)</td>
                            <td>RID LOOKUP</td>
                            <td>P≈ô√≠stup do haldy pomoc√≠ ROWID</td>
                        </tr>
                        <tr>
                            <td>INDEX (UNIQUE SCAN)</td>
                            <td rowspan="2">INDEX SEEK()</td>
                            <td>Bodov√Ω dotaz v B+ stromu</td>
                        </tr>
                        <tr>
                            <td>INDEX (RANGE SCAN)</td>
                            <td>Rozsahov√Ω dotaz v B+ stromu</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Halda vs B-strom porovn√°n√≠</h3>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Operace</th>
                            <th>Halda (heap)</th>
                            <th>B+ strom (index)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ƒåten√≠</td>
                            <td>O(n)</td>
                            <td>O(log n)</td>
                        </tr>
                        <tr>
                            <td>Vkl√°d√°n√≠</td>
                            <td>O(1) nebo O(n)</td>
                            <td>O(log n)</td>
                        </tr>
                        <tr>
                            <td>Maz√°n√≠</td>
                            <td>O(n)</td>
                            <td>O(log n)</td>
                        </tr>
                        <tr>
                            <td>Bodov√Ω dotaz</td>
                            <td>O(n)</td>
                            <td>O(log n)</td>
                        </tr>
                        <tr>
                            <td>Rozsahov√Ω dotaz</td>
                            <td>O(n)</td>
                            <td>O(log n + k)</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <section id="rizeni1" class="section">
                <h2>11 - ≈ò√≠zen√≠ soubƒõhu I & II</h2>

                <h3>Probl√©my soubƒõhu</h3>
                <p><strong>Soubƒõh</strong> = paraleln√≠ vykon√°v√°n√≠ transakc√≠ (v√≠ce u≈æivatel≈Ø p≈ôistupuje k DBS souƒçasnƒõ)</p>

                <div class="info">
                    <p>Soubƒõh <strong>sni≈æuje izolaci</strong>, ale <strong>zvy≈°uje propustnost</strong> syst√©mu</p>
                </div>

                <h4>Typy konflikt≈Ø</h4>
                <ul>
                    <li><strong>READ-WRITE (RW)</strong></li>
                    <li><strong>WRITE-READ (WR)</strong></li>
                    <li><strong>WRITE-WRITE (WW)</strong></li>
                </ul>

                <h3>Konkr√©tn√≠ probl√©my soubƒõhu</h3>
                <div class="warning">
                    <h4>1. Ztr√°ta aktualizace</h4>
                    <p>A p≈ôeƒçte - B p≈ôeƒçte - A zap√≠≈°e - B zap√≠≈°e<br>
                    ‚Üí Transakce si p≈ôep√≠≈°ou navz√°jem zmƒõny</p>
                </div>

                <div class="warning">
                    <h4>2. Nepotvrzen√° z√°vislost</h4>
                    <p>B zap√≠≈°e - A p≈ôeƒçte - B rollback<br>
                    ‚Üí A pracuje s chybn√Ωmi hodnotami (≈°pinav√© ƒçten√≠)</p>
                </div>

                <div class="warning">
                    <h4>3. Nekonzistentn√≠ anal√Ωza</h4>
                    <p>Transakce m√° k dispozici nekonzistentn√≠ datab√°zi</p>
                </div>

                <div class="warning">
                    <h4>4. Neopakovateln√© ƒçten√≠</h4>
                    <p>A ƒçte - B zap√≠≈°e - A ƒçte<br>
                    ‚Üí Opakovan√© ƒçten√≠ vr√°t√≠ jinou hodnotu</p>
                </div>

                <div class="warning">
                    <h4>5. V√Ωskyt fant√≥m≈Ø</h4>
                    <p>A select - B insert - A select<br>
                    ‚Üí Opakovan√Ω select vr√°t√≠ jin√Ω poƒçet z√°znam≈Ø</p>
                </div>

                <h3>Techniky ≈ô√≠zen√≠ soubƒõhu</h3>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Technika</th>
                            <th>P≈ô√≠stup</th>
                            <th>Princip</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Zamyk√°n√≠</strong></td>
                            <td>Pesimistick√Ω</td>
                            <td>Jedna kopie dat + z√°mky</td>
                        </tr>
                        <tr>
                            <td><strong>Spr√°va verz√≠</strong></td>
                            <td>Optimistick√Ω</td>
                            <td>V√≠ce verz√≠ dat</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Zamyk√°n√≠</h3>
                <h4>Typy z√°mk≈Ø</h4>
                <ul>
                    <li><strong>Sd√≠len√Ω (S):</strong> pro ƒçten√≠ (v√≠ce transakc√≠ m≈Ø≈æe m√≠t souƒçasnƒõ)</li>
                    <li><strong>V√Ωluƒçn√Ω (X):</strong> pro z√°pis (jen jedna transakce)</li>
                </ul>

                <h4>Pravidla kompatibility</h4>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>A dr≈æ√≠</th>
                            <th>B ≈æ√°d√° S</th>
                            <th>B ≈æ√°d√° X</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>S</td>
                            <td>‚úÖ Povolen</td>
                            <td>‚ùå Blokov√°n</td>
                        </tr>
                        <tr>
                            <td>X</td>
                            <td>‚ùå Blokov√°n</td>
                            <td>‚ùå Blokov√°n</td>
                        </tr>
                    </tbody>
                </table>

                <h3>P≈ô√≠sn√© dvojf√°zov√© zamyk√°n√≠ (Strict 2PL)</h3>
                <ol>
                    <li><strong>F√°ze 1:</strong> Z√≠sk√°n√≠ z√°mk≈Ø</li>
                    <li><strong>F√°ze 2:</strong> Uvolnƒõn√≠ z√°mk≈Ø (jen p≈ôi COMMIT/ROLLBACK)</li>
                </ol>

                <div class="highlight">
                    <p><strong>Zaruƒçuje serializovatelnost</strong> transakc√≠</p>
                </div>

                <h4>≈òe≈°en√≠ uv√°znut√≠ (deadlock)</h4>
                <ul>
                    <li><strong>Detekce:</strong> ƒçasov√© limity, graf Wait-For</li>
                    <li><strong>Prevence:</strong> ƒçasov√° raz√≠tka (Wait-Die, Wound-Wait)</li>
                </ul>

                <h3>√örovnƒõ izolace transakc√≠</h3>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>√örove≈à</th>
                            <th>≈†pinav√© ƒçten√≠</th>
                            <th>Neopakovateln√© ƒçten√≠</th>
                            <th>Fant√≥my</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>READ UNCOMMITTED</td>
                            <td>‚úÖ</td>
                            <td>‚úÖ</td>
                            <td>‚úÖ</td>
                        </tr>
                        <tr>
                            <td>READ COMMITTED</td>
                            <td>‚ùå</td>
                            <td>‚úÖ</td>
                            <td>‚úÖ</td>
                        </tr>
                        <tr>
                            <td>REPEATABLE READ</td>
                            <td>‚ùå</td>
                            <td>‚ùå</td>
                            <td>‚úÖ</td>
                        </tr>
                        <tr>
                            <td>SERIALIZABLE</td>
                            <td>‚ùå</td>
                            <td>‚ùå</td>
                            <td>‚ùå</td>
                        </tr>
                    </tbody>
                </table>

                <div class="info">
                    <p><strong>Kompromis:</strong> Vy≈°≈°√≠ √∫rove≈à izolace = ni≈æ≈°√≠ propustnost</p>
                </div>

                <h3>Spr√°va verz√≠</h3>
                <p>Transakce pracuj√≠ s konzistentn√≠mi verzemi dat</p>

                <div class="advantages">
                    <div>
                        <h4>‚úÖ V√Ωhody verzov√°n√≠</h4>
                        <ul>
                            <li>≈Ω√°dn√© z√°mky p≈ôi ƒçten√≠</li>
                            <li>Vy≈°≈°√≠ paralelizace</li>
                        </ul>
                    </div>
                </div>

                <div class="disadvantages">
                    <div>
                        <h4>‚ùå Nev√Ωhody verzov√°n√≠</h4>
                        <ul>
                            <li>Vy≈°≈°√≠ pamƒõ≈•ov√° n√°roƒçnost</li>
                            <li>Konflikty p≈ôi z√°pisu</li>
                        </ul>
                    </div>
                </div>

                <h3>Implementace v r≈Øzn√Ωch DBS</h3>
                <h4>Oracle</h4>
                <ul>
                    <li>READ COMMITTED</li>
                    <li>READ ONLY</li>
                    <li>SERIALIZABLE</li>
                </ul>

                <h4>SQL Server</h4>
                <ul>
                    <li>READ UNCOMMITTED</li>
                    <li>READ COMMITTED</li>
                    <li>REPEATABLE READ</li>
                    <li>SERIALIZABLE</li>
                    <li>SNAPSHOT (vlastn√≠)</li>
                </ul>

                <h3>Zamyk√°n√≠ vs Verzov√°n√≠</h3>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Vlastnost</th>
                            <th>Zamyk√°n√≠</th>
                            <th>Verzov√°n√≠</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>P≈ô√≠stup</td>
                            <td>Pesimistick√Ω</td>
                            <td>Optimistick√Ω</td>
                        </tr>
                        <tr>
                            <td>Kopie dat</td>
                            <td>Jedna</td>
                            <td>V√≠ce verz√≠</td>
                        </tr>
                        <tr>
                            <td>V√Ωhody</td>
                            <td>P≈ôesn√° kontrola</td>
                            <td>Vy≈°≈°√≠ paralelizace</td>
                        </tr>
                        <tr>
                            <td>Nev√Ωhody</td>
                            <td>Blokov√°n√≠, uv√°znut√≠</td>
                            <td>Pamƒõ≈•, konflikty p≈ôi z√°pisu</td>
                        </tr>
                    </tbody>
                </table>

                <div class="questions">
                    <h4>ü§î Ot√°zky k procviƒçen√≠</h4>
                    <ol>
                        <li>Na konkr√©tn√≠m paraleln√≠m pl√°nu uka≈æte probl√©m neopakovateln√©ho ƒçten√≠</li>
                        <li>Popi≈°te jednotliv√© √∫rovnƒõ izolace podle SQL specifikace</li>
                        <li>Uka≈æte ≈ôe≈°en√≠ probl√©mu nepotvrzen√© z√°vislosti</li>
                        <li>Rozd√≠l mezi neopakovateln√Ωm ƒçten√≠m a v√Ωskytem fant√≥m≈Ø</li>
                        <li>Jak zamyk√°n√≠ ≈ôe≈°√≠ probl√©m ztr√°ty aktualizace?</li>
                        <li>Paraleln√≠ soubƒõ≈æn√Ω pl√°n a korektnost</li>
                    </ol>
                </div>
            </section>
        </div>
    </div>

    <button class="back-to-top" onclick="scrollToTop()">‚Üë</button>

    <script>
        // Back to top functionality
        window.addEventListener('scroll', function() {
            const backToTop = document.querySelector('.back-to-top');
            if (window.pageYOffset > 300) {
                backToTop.classList.add('visible');
            } else {
                backToTop.classList.remove('visible');
            }
        });

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Add animation to sections when they come into view
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Initially hide sections for animation
        document.querySelectorAll('.section').forEach(section => {
            section.style.opacity = '0';
            section.style.transform = 'translateY(20px)';
            section.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(section);
        });
    </script>
</body>
</html>